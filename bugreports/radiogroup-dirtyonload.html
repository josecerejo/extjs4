<html>
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
  <link rel="stylesheet" type="text/css" href="../resources/css/ext-all.css">
  <script type="text/javascript" src="../ext-all-debug.js"></script>
  <!-- <script type="text/javascript" src="../ext-all.js"></script> -->

  <!-- Set a title for the page (id is not necessary). -->
  <title id="page-title">radiogroup demo1</title>

  <!-- You can have onReady function here or in your application file. -->
  <!-- If you have it in your application file delete the whole -->
  <!-- following script tag as we must have only one onReady. -->

  <script type="text/javascript">

  // Path to the blank image must point to a valid location on your server
  Ext.BLANK_IMAGE_URL = '../resources/images/default/s.gif';

  // Main application entry point
  Ext.onReady(function() {


    var currentId = 0;

    var store = Ext.create('Ext.data.Store', {
      fields: [ 'id', 'text1', 'radio1' ],
      data: [
        { id: 1, text1: 'text1',  radio1: 'C1' },
        { id: 2, text1: 'text2',  radio1: 'C2' },
        { id: 3, text1: 'text3',  radio1: 'C3' },
      ]
    });


    var form = Ext.create('Ext.form.Panel', {
      bodyPadding: 15,
      trackResetOnLoad: true,
      items: [
        { xtype: 'textfield', fieldLabel: 'Text', name: 'text1' },
        { xtype: 'radiogroup', fieldLabel: 'Radiogroup',
          items: [ { boxLabel: 'choice1', name: 'radio1', inputValue: 'C1' },
                   { boxLabel: 'choice2', name: 'radio1', inputValue: 'C2' } ]
        },
      ],
    });


    var win = Ext.create('Ext.window.Window', {
      title: 'radiogroup demo1',
      height: 200, width: 400,
      layout: 'fit',
      items: [ form ],
      buttons: [
        { text: 'Next',
          handler: function(button, event) {
            if (++currentId > 3) { currentId = 1; }
            form.loadRecord(store.getById(currentId));
            //Ext.defer(function() { alert('formDirty=' + form.getForm().isDirty()); }, 500);
            alert('formDirty=' + form.getForm().isDirty());
          }
        },
      ]
    });

    win.show();

  });
  </script>

</head>
<body></body>
</html>
